//file:noinspection GroovyMissingReturnStatement

dependencies {
    api("com.github.goxr3plus:java-stream-player:10.0.2")
    compileOnly("org.slf4j:slf4j-api:2.0.6")
}

tasks.withType(JavaCompile).configureEach {
    options.encoding = "utf-8"
}

jar {
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    from {
        configurations.runtimeClasspath.collect {
            if (it.name.contains("junit")) return
            if (it.name.contains("commons-io")) return
            it.isDirectory() ? it : zipTree(it)
        }
    }
}